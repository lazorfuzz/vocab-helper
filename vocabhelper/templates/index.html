<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
<head>
  {% include "head.html" %}
<title>Vocab Helper</title>
<style>
  html, body{
    overflow: scroll;
    padding: 0;
    margin-bottom: 0;
  }
  .container-fluid{
    margin-bottom: 6em;
  }
  .abouttext{
    margin-bottom: 2em;
  }
</style>
</head>

<body>
  <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

{% include "header.html" %}

<div class='container-fluid col-md-8 col-md-offset-2 wrapper'>
    <h2 class='animated fadeInDown' id='instructions'>Enter your list of words/phrases. Click Go to see the results.</h2>
    <div id="words-div">
            <textarea id="wordspace"></textarea>
    </div>
    <div id="define">
            {% csrf_token %}
            <button class='button' id="go">Go</button><button class='button' id="copy" style='display:none;'>Copy</button>
    </div>
    <p class='abouttext'>
      Vocab Helper is a simple tool designed to define multiple words or phrases. Its uses are manyfold; studying for vocab quizzes and tests comes to mind. It's also a great tool for preparing for the SAT, ACT, and more. You can define a single word as well as any list from any format (numbered, bulletin lists, etc.).
      Be sure to <a href='{% url "contact" %}'>contact us</a> if you have any suggestions for the site!
    </p>
    <div class="fb-like" data-href="http://vocabhw.com" data-layout="standard" data-action="like" data-size="small" data-show-faces="true" data-share="true"></div>
</div>

<script>
    var words = $('#wordspace');
    words.attr('placeholder', 'Example: \n\
Nuclear Non-Proliferation Treaty \n\
Third World\n\
domino theory\n\
Fidel Castro and Cuban Revolution\n\
Bay of Pigs\n');
    words.focus();

  $('#go').on('click', function(){
    if (words.val() == ''){
      words.val('Nuclear Non-Proliferation Treaty \n\
Third World\n\
domino theory\n\
Fidel Castro and Cuban Revolution\n\
Bay of Pigs\n');
    }
    var csrftoken = $('input[name="csrfmiddlewaretoken"]').val();
    $(this).attr('class', 'button animated bounceOut');
    $('#copy').attr('class', 'button animated bounceOut');
    words.attr('class', 'animated bounceOut');

    $('#instructions').text('Please wait.');
    window.setTimeout(function(){
      var data = words.val();
      words.val('');
      $.post('{% url "index" %}', {'words': data, 'csrfmiddlewaretoken': csrftoken}, function(data){
        words.val(data);
      }).always(function(){
        words.css('display', '');
        words.attr('class', 'animated bounceIn');
        words.focus();
        $('#instructions').text('Your Results:')
        words[0].scrollTop = 0;
        window.setTimeout(function(){
          $('#go').css('display', '');
          $('#go').attr('class', 'button animated bounceIn');
          $('#copy').css('display', '');
          $('#copy').attr('class', 'button animated bounceIn');
        }, 700);
      });
    }, 1500);
    //$('.wrapper').height($(window).height() - $('footer').height());
  });

  $('#copy').on('click', function(){
    words.select();
    document.execCommand("copy");
    alert('The results have been saved to your clipboard. Thanks for using Vocab Helper. Be sure to recommend me to a friend!');
  });

</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92276538-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
    {% include "footer.html" %}
</html>
